;/*FB_PKG_DELIM*/

__d("CometSpriteBase.react",["BaseImage.react","CometPressable.react","react","react-compiler-runtime","useMergeRefs","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={innerSprite:{animationDelay:"x1uzojwf",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationPlayState:"xoj058f",animationTimingFunction:"x1nxgg22",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.accessibilityCaption,f=a.animationStyle,g=a.containerRef,h=a.cursorEnabled,k=a.imgHeight,l=a.imgRef,m=a.imgWidth,n=a.linkProps,o=a.onHoverIn,p=a.onPress,q=a.overlayEnabled,r=a.pressableRef,s=a.showFocusOverlay,t=a.showHoverOverlay,u=a.src,v=a.style;a=a.xstyle;r=c("useMergeRefs")(r,g);g=!h;h=!s;s=!t;t=!q;b[0]!==e||b[1]!==f||b[2]!==k||b[3]!==l||b[4]!==m||b[5]!==u?(q=function(a){var b=a.overlay;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x6ikm8r x10wlt62 x1n2onr6 x1pdlv7q x5yr21d xh8yej3",children:i.jsx(c("BaseImage.react"),{alt:e,draggable:!1,height:"100%",ref:l&&d("xplatToDOMRef").xplatToDOMRef(l),src:u,style:babelHelpers["extends"]({height:k,width:m},f==null?void 0:f(a)),width:"100%",xstyle:j.innerSprite})}),b]})},b[0]=e,b[1]=f,b[2]=k,b[3]=l,b[4]=m,b[5]=u,b[6]=q):q=b[6];var w;b[7]!==e||b[8]!==n||b[9]!==r||b[10]!==o||b[11]!==p||b[12]!==v||b[13]!==g||b[14]!==h||b[15]!==s||b[16]!==t||b[17]!==q||b[18]!==a?(w=i.jsx(c("CometPressable.react"),{cursorDisabled:g,hideFocusOverlay:h,hideHoverOverlay:s,label:e,linkProps:n,onHoverIn:o,onPress:p,overlayDisabled:t,overlayRadius:4,ref:r,style:v,xstyle:a,children:q}),b[7]=e,b[8]=n,b[9]=r,b[10]=o,b[11]=p,b[12]=v,b[13]=g,b[14]=h,b[15]=s,b[16]=t,b[17]=q,b[18]=a,b[19]=w):w=b[19];return w}g["default"]=a}),98);
__d("cometAnimationStateReducer",[],(function(a,b,c,d,e,f){"use strict";function g(){return Object.freeze({hasAnimated:!1,iterationIndex:1,shouldAnimate:!1})}function h(a,b){switch(b.type){case"FORCE_STOP_ANIMATION":return l(a,b);case"RESTART_ANIMATION":return j(a,b);case"START_ANIMATION":return i(a,b);case"NEXT_ITERATION":return k(a,b);default:b.type;break}return a}function i(a,b){b=a.hasAnimated;return b?h(a,{type:"RESTART_ANIMATION"}):babelHelpers["extends"]({},a,{shouldAnimate:!0})}function j(a,b){b=h(a,{type:"FORCE_STOP_ANIMATION"});return babelHelpers["extends"]({},b,{shouldAnimate:!0})}function k(a,b){b=b.iterationLimit;var c=a.iterationIndex;b=c>=b;return babelHelpers["extends"]({},a,{hasAnimated:b,iterationIndex:b?1:c+1})}function l(a,b){return babelHelpers["extends"]({},a,g(),{shouldAnimate:!1})}f.getInitialState=g;f.reducer=h}),66);
__d("useCometAnimationStateReducer",["cometAnimationStateReducer","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useReducer;function a(a){var b=d("react-compiler-runtime").c(4),c=a.frameCount,e=a.frameRate,f=a.iterationLimit;a=i(d("cometAnimationStateReducer").reducer,null,d("cometAnimationStateReducer").getInitialState);var g=a[0],h=a[1];a=g.shouldAnimate&&!g.hasAnimated;g=e*c;b[0]!==a||b[1]!==g||b[2]!==f?(e={canAnimate:a,duration:g,nextAnimationIteration:function(){h({iterationLimit:f,type:"NEXT_ITERATION"})},startAnimation:function(){h({type:"START_ANIMATION"})}},b[0]=a,b[1]=g,b[2]=f,b[3]=e):e=b[3];c=e;return c}g["default"]=a}),98);
__d("useMemoByObjectVariables",["areEqual","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useMemo,k=b.useRef,l=b.useState,m=0;function a(a){var b=k(m),d=l(a),e=d[0];d=d[1];e=!(h||(h=c("areEqual")))(a,e);e&&(b.current+=1,d(a));var f=j(function(){return a},[b.current]);return j(function(){return[f,b.current]},[f])}g["default"]=a}),98);
__d("useCometAnimationTrigger",["react","useCometAnimationStateReducer","useMemoByObjectVariables"],(function(a,b,c,d,e,f,g){"use strict";var h=["animationTriggers"],i;b=i||d("react");var j=b.useCallback,k=b.useMemo,l=b.useRef;function m(a,b){b=b.hovered;return b===!0&&a.hover===!0?!0:!1}function a(a){var b=a.animationTriggers;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=l(!1),e=c("useCometAnimationStateReducer")(a);a=c("useMemoByObjectVariables")(b);var f=a[0],g=k(function(){return f.hover===!0?function(){e.startAnimation()}:void 0},[e,f]),i=k(function(){if(d.current===!1&&f.load===!0)return function(){d.current=!0,e.startAnimation()}},[e,f]),n=j(function(a){return e.canAnimate||m(f,a)},[e,f]);return k(function(){return{duration:e.duration,getShouldAnimate:n,onHoverIn:g,onLoad:i,onNextAnimationIteration:e.nextAnimationIteration}},[e,n,g,i])}g["default"]=a}),98);
__d("useInvalidNumberThrowsViolation",["fb-error","useCometErrorProject"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b===void 0?"Unexpected invalid number value":b;var d=c("useCometErrorProject")();if(d==null)throw new Error("useInvalidNumberThrowsViolation can only be used if CometErrorProjectContext\n        has a provider in your component tree");if(!Number.isNaN(a)&&Number.isFinite(a))return a;throw c("fb-error").TAAL.blameToPreviousFrame(new Error(b))}g["default"]=a}),98);
__d("useSpriteAnimation",["FBLogger","react","react-compiler-runtime","stylex","useInvalidNumberThrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useLayoutEffect,k=0;function l(a,b,c){return"__DYNAMIC__CometAnimatedSprite_"+a+"_"+b+"_"+c}function m(a){var b=a.frameCount,d=a.framesPerCol,e=a.framesPerRow;a=a.step;b=a/b*100;var f=a%e/e*100;a=Math.floor(a/e)/d*100;e=Number.isNaN(f)||Number.isNaN(a)||Number.isNaN(b)||!Number.isFinite(f)||!Number.isFinite(a)||!Number.isFinite(b);if(e===!0)throw c("FBLogger")("comet_ui").mustfixThrow("Invalid animation input provided.");return b+"% { transform: translate(-"+f+"%, -"+a+"%); }"}function n(a,b,d,e){var f=[];if(!Number.isFinite(b)||Number.isNaN(b))throw c("FBLogger")("comet_ui").mustfixThrow("Invalid framecount");for(var g=0;g<b;g++)f.push(m({frameCount:b,framesPerCol:d,framesPerRow:e,step:g}));if(f.length<=0)throw c("FBLogger")("comet_ui").mustfixThrow("There were no animation frames to create an animation.");return"\n  @keyframes "+a+" {\n    "+f.join("\n  ")+"\n  }\n"}function a(a,b,e){var f=d("react-compiler-runtime").c(10);c("useInvalidNumberThrowsViolation")(a);c("useInvalidNumberThrowsViolation")(b);c("useInvalidNumberThrowsViolation")(e);var g;f[0]!==a||f[1]!==b||f[2]!==e?(g=l(a,b,e),f[0]=a,f[1]=b,f[2]=e,f[3]=g):g=f[3];var i=g,m;f[4]!==i||f[5]!==a||f[6]!==b||f[7]!==e?(g=function(){(h||(h=c("stylex"))).inject(n(i,a,b,e),k)},m=[i,a,b,e],f[4]=i,f[5]=a,f[6]=b,f[7]=e,f[8]=g,f[9]=m):(g=f[8],m=f[9]);j(g,m);return i}g["default"]=a}),98);
__d("CometAnimatedSprite.react",["CometSpriteBase.react","react","react-compiler-runtime","useCometAnimationTrigger","useInvalidNumberThrowsViolation","useRefEffect","useSpriteAnimation","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=["animationTriggers","frameCount","frameRate","framesPerCol","framesPerRow","repeatNumber","spriteUri"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(32),e,f,g,i,k,l,m,n;b[0]!==a?(e=a.animationTriggers,f=a.frameCount,g=a.frameRate,i=a.framesPerCol,k=a.framesPerRow,n=a.repeatNumber,m=a.spriteUri,l=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k,b[6]=l,b[7]=m,b[8]=n):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5],l=b[6],m=b[7],n=b[8]);a=n===void 0?3:n;b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==a?(n={animationTriggers:e,frameCount:f,frameRate:g,iterationLimit:a},b[9]=e,b[10]=f,b[11]=g,b[12]=a,b[13]=n):n=b[13];e=c("useCometAnimationTrigger")(n);var o=e.duration,p=e.getShouldAnimate;g=e.onHoverIn;a=e.onLoad;var q=e.onNextAnimationIteration,r=c("useSpriteAnimation")(f,i,k);n=c("useInvalidNumberThrowsViolation")(i*100);e=c("useInvalidNumberThrowsViolation")(k*100);b[14]!==a?(f={onVisible:a},b[14]=a,b[15]=f):f=b[15];i=c("useVisibilityObserver")(f);b[16]!==q?(k=function(a){a.addEventListener("animationiteration",q);return function(){a.removeEventListener("animationiteration",q)}},a=[q],b[16]=q,b[17]=k,b[18]=a):(k=b[17],a=b[18]);f=c("useRefEffect")(k,a);b[19]!==r||b[20]!==o||b[21]!==p?(k=function(a){return p(a)?{animationDuration:o+"ms",animationName:r}:{animation:"none"}},b[19]=r,b[20]=o,b[21]=p,b[22]=k):k=b[22];a=n+"%";n=e+"%";b[23]!==f||b[24]!==g||b[25]!==l||b[26]!==m||b[27]!==i||b[28]!==k||b[29]!==a||b[30]!==n?(e=j.jsx(c("CometSpriteBase.react"),babelHelpers["extends"]({},l,{animationStyle:k,containerRef:i,imgHeight:a,imgRef:f,imgWidth:n,onHoverIn:g,src:m})),b[23]=f,b[24]=g,b[25]=l,b[26]=m,b[27]=i,b[28]=k,b[29]=a,b[30]=n,b[31]=e):e=b[31];return e}g["default"]=a}),98);
__d("CometAnimatedSticker.react",["CometAnimatedSprite.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["alt","frameCount","frameRate","framesPerCol","framesPerRow","uri"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e,f,g,i,k,l,m;b[0]!==a?(e=a.alt,f=a.frameCount,g=a.frameRate,i=a.framesPerCol,k=a.framesPerRow,m=a.uri,l=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k,b[6]=l,b[7]=m):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5],l=b[6],m=b[7]);b[8]!==e||b[9]!==f||b[10]!==g||b[11]!==i||b[12]!==k||b[13]!==l||b[14]!==m?(a=j.jsx(c("CometAnimatedSprite.react"),babelHelpers["extends"]({},l,{accessibilityCaption:e,frameCount:f,frameRate:g,framesPerCol:i,framesPerRow:k,spriteUri:m})),b[8]=e,b[9]=f,b[10]=g,b[11]=i,b[12]=k,b[13]=l,b[14]=m,b[15]=a):a=b[15];return a}g["default"]=a}),98);
__d("CometStickerRelay_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"width"}],b={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"height"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"width"}],kind:"Fragment",metadata:null,name:"CometStickerRelay_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"LOG",path:"pack.name"}],storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[{kind:"RequiredField",field:b,action:"LOG",path:"sprite_image.uri"}],storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{kind:"RequiredField",field:b,action:"LOG",path:"image.uri"},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("CometStickerRelay.react",["fbt","CometAnimatedSticker.react","CometRelay","CometSpriteBase.react","CometStickerRelay_sticker.graphql","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["animationTriggers","sticker","style"],j,k,l=k||(k=d("react"));k.useMemo;var m="AI generated sticker";function a(a){var e=d("react-compiler-runtime").c(28),f,g,k,n;e[0]!==a?(f=a.animationTriggers,k=a.sticker,n=a.style,g=babelHelpers.objectWithoutPropertiesLoose(a,i),e[0]=a,e[1]=f,e[2]=g,e[3]=k,e[4]=n):(f=e[1],g=e[2],k=e[3],n=e[4]);a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometStickerRelay_sticker.graphql"),k);k=a.frame_count;var o=a.frame_rate,p=a.frames_per_column,q=a.frames_per_row,r=a.image,s=a.label,t=a.pack;a=a.sprite_image;a=a==null?void 0:a.uri;var u=r==null?void 0:r.uri,v=r==null?void 0:r.width;r=r==null?void 0:r.height;t=t==null?void 0:t.name;bb0:{if(typeof n==="function"){var w;e[5]!==r||e[6]!==n||e[7]!==v?(w=n({height:r,width:v}),e[5]=r,e[6]=n,e[7]=v,e[8]=w):w=e[8];r=w;break bb0}r=n}v=r;s==null&&c("FBLogger")("comet_ui").mustfix("Invalid label received in CometSticker");w=s===m;e[9]!==w||e[10]!==s||e[11]!==t?(n=t!=null?h._(/*BTDS*/"{pack name} {sticker name}{sticker suffix}",[h._param("pack name",t),h._param("sticker name",s),h._param("sticker suffix",w?"":" sticker")]):s!=null?s:"",e[9]=w,e[10]=s,e[11]=t,e[12]=n):n=e[12];r=n;if(a!=null)if(k!=null&&o!=null&&p!=null&&q!=null){e[13]!==f||e[14]!==r||e[15]!==k||e[16]!==o||e[17]!==p||e[18]!==q||e[19]!==g||e[20]!==v||e[21]!==a?(w=l.jsx(c("CometAnimatedSticker.react"),babelHelpers["extends"]({},g,{alt:r,animationTriggers:f,frameCount:k,frameRate:o,framesPerCol:p,framesPerRow:q,style:v,uri:a})),e[13]=f,e[14]=r,e[15]=k,e[16]=o,e[17]=p,e[18]=q,e[19]=g,e[20]=v,e[21]=a,e[22]=w):w=e[22];return w}else c("FBLogger")("comet_ui").mustfix("Invalid sticker animation data received");if(u==null)throw c("FBLogger")("comet_ui").mustfixThrow("Invalid sticker data received");e[23]!==r||e[24]!==u||e[25]!==g||e[26]!==v?(s=l.jsx(c("CometSpriteBase.react"),babelHelpers["extends"]({},g,{accessibilityCaption:r,src:u,style:v})),e[23]=r,e[24]=u,e[25]=g,e[26]=v,e[27]=s):s=e[27];return s}g["default"]=a}),226);
__d("CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{args:[{kind:"Literal",name:"height",value:80},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:80}],kind:"FragmentSpread",name:"CometStickerRelay_sticker"}],storageKey:null}],storageKey:null}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentStickerAttachmentStyle.react",["CometRelay","CometStickerRelay.react","CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql","FBLogger","LiveProducerCommentsRenderingContext","UFI2ScaleRect","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useContext,l=80,m=.75;function a(a){var e=d("react-compiler-runtime").c(7);a=a.styleTypeRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentStickerAttachmentStyle_styleTypeRenderer.graphql"),a);a=a.attachment;a=a==null?void 0:a.media;var f=k(c("LiveProducerCommentsRenderingContext")),g=f.shrinkStickers;e[0]!==g?(f=function(a){var b=a.height;a=a.width;return d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:g?l*m:l,maxWidth:g?l*m:l,srcHeight:b!=null?b:l,srcWidth:a!=null?a:l})},e[0]=g,e[1]=f):f=e[1];f=f;if(a==null){c("FBLogger")("ufi2").mustfix("CometUFICommentStickerAvatarAttachmentStyle: Tried to render a sticker, but attachment information is null.");return null}var i;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1iorvi4"},e[2]=i):i=e[2];var n;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={hover:!0,load:!0},e[3]=n):n=e[3];e[4]!==a||e[5]!==f?(i=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("CometStickerRelay.react"),{animationTriggers:n,sticker:a,style:f})})),e[4]=a,e[5]=f,e[6]=i):i=e[6];return i}g["default"]=a}),98);
__d("CometUFICommentStickerAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Literal",name:"height",value:80},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[a];return{kind:"SplitOperation",metadata:{},name:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null}],type:"Sticker",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);