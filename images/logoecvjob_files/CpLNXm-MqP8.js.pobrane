;/*FB_PKG_DELIM*/

__d("CometPrivacySelectorFullCustomViewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9817202111693494"}),null);
__d("CometPrivacySelectorSavePrivacyMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24757748563916145"}),null);
__d("CometPrivacySelectorSavePrivacyMutation.graphql",["CometPrivacySelectorSavePrivacyMutation_facebookRelayOperation","CometUFIShareActionMigration.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"storyRenderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"tags"},g=[{kind:"Variable",name:"input",variableName:"input"}],h={kind:"Variable",name:"tags",variableName:"tags"},i=[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"},h],j=[{args:null,kind:"FragmentSpread",name:"CometUFIShareActionRenderer_feedback"}],k=[{kind:"Literal",name:"supported",value:"cOoG"}],l=[{kind:"Variable",name:"story_render_location",variableName:"storyRenderLocation"}],m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"},p={alias:null,args:null,kind:"ScalarField",name:"post_param",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_selected",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"current_tag_expansion",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"explanation",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"explanation_with_tag_expansion",storageKey:null},u={kind:"Variable",name:"scale",variableName:"scale"},v=[{kind:"Literal",name:"icon_purpose",value:"OPTION_LIST"},o,u],w={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},A={alias:null,args:v,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[w,x,y,z,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"info_type",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},D={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],storageKey:null};w=[w,x,y,z];x=[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:v,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:w,storageKey:null},r,s,t,n,C,D],storageKey:null}];y=[m,n];z=[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[A,r,s,t,B,C,D,n],storageKey:null}];v={alias:null,args:[{kind:"Literal",name:"supported",value:"2rUGKi"}],concreteType:null,kind:"LinkedField",name:"renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[r,s,t,A,n,B,C,D],storageKey:null}],type:"PrivacyOptionBasicOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:x,type:"PrivacyOptionFullCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"saved_custom_type",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"included_members",plural:!0,selections:y,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"excluded_members",plural:!0,selections:y,storageKey:null},n,r,s,t,A,B,C,D],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dialog_title",storageKey:null}],type:"PrivacyOptionSavedCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:z,type:"PrivacyOptionLockedProfileDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[n,D],storageKey:null}],type:"PrivacyOptionRestrictedAudienceOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:z,type:"PrivacyOptionPublicForYouthDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:x,type:"WorkUserPrivacyOptionFullCustomOptionRenderer",abstractKey:null}],storageKey:'renderer(supported:"2rUGKi")'};y={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null};r={alias:"trigger_icon_image",args:[{kind:"Literal",name:"icon_purpose",value:"TRIGGER"},o,u],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:w,storageKey:null};s=[n,{alias:null,args:null,kind:"ScalarField",name:"should_show_reshare_warning",storageKey:null}];t={kind:"InlineFragment",selections:[n],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"CometPrivacySelectorSavePrivacyMutation",selections:[{alias:null,args:g,concreteType:"PrivacySelectorSaveResponsePayload",kind:"LinkedField",name:"privacy_selector_save",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{args:i,kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope"},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:j,storageKey:null},{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{args:i,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"}],storageKey:'privacy_scope_renderer(supported:"cOoG")'},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"shareable_entity",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:j,storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"}],kind:"Operation",name:"CometPrivacySelectorSavePrivacyMutation",selections:[{alias:null,args:g,concreteType:"PrivacySelectorSaveResponsePayload",kind:"LinkedField",name:"privacy_selector_save",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[m,n,{kind:"TypeDiscriminator",abstractKey:"__isPrivacySelectorRenderer"},{kind:"InlineFragment",selections:[{alias:null,args:[o,h],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_save_on_select",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_save_confirmation_dialog_type",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"options",plural:!0,selections:[n,p,{alias:null,args:null,kind:"ScalarField",name:"setting_supervision_access",storageKey:null},q,v,y,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"s316O"}],concreteType:null,kind:"LinkedField",name:"header_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPicker_scope",fragmentName:"CometPrivacySelectorPickerHeader_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"PrivacySelectorSimpleHeaderRenderer",abstractKey:null}],storageKey:'header_renderer(supported:"s316O")'},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[p,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_tag_expansion_options",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"youth_disabled_public_education_option",plural:!1,selections:[n,p,q,v,y,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_in_locked_profile_mode",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"4b8fJE"}],concreteType:null,kind:"LinkedField",name:"footer_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPickerFooter_scope",fragmentName:"CometDefaultPrivacySelectorPickerFooter_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PrivacySelectorDefaultPrivacyFooterRenderer",abstractKey:null}],storageKey:'footer_renderer(supported:"4b8fJE")'}],storageKey:null},D,{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"privacySelectorRenderLocation"}],documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorEditable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"PrivacyScopeEditableRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"CometPrivacySelectorUneditable_renderer$renderLocation",variableName:"privacySelectorRenderLocation"}],documentName:"CometPrivacySelectorForScope_scope",fragmentName:"CometPrivacySelectorUneditable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"PrivacyScopeUneditableRenderer",abstractKey:null}],storageKey:'privacy_scope_renderer(supported:"cOoG")'},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:s,storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"shareable_entity",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[m,{kind:"InlineFragment",selections:s,type:"Feedback",abstractKey:null},t],storageKey:null}],type:"Story",abstractKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometPrivacySelectorSavePrivacyMutation_facebookRelayOperation"),metadata:{},name:"CometPrivacySelectorSavePrivacyMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider")}}}}();e.exports=a}),null);
__d("CometPrivacySelectorSavePrivacyMutation",["CometPrivacySelectorSavePrivacyMutation.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return{option:{icon_purpose:a,render_location:b,scale:c},scope:{scale:c}}}function j(a,b,c){var d=b.privacySelectorRenderLocation,e=b.scale;b=b.tags;var f=c.privacyWriteID;c=c.selectedOptionID;if(c==null)return;a=a.get(f);if(a==null)return;f=a.getLinkedRecord("privacy_scope_for_location",{render_location:d,tags:b});if(f==null)return;b=(a=f.getLinkedRecords("options"))!=null?a:[];for(a of b){if(a==null)continue;b=a.getValue("id");b=b===c;a.setValue(b,"is_selected");if(b){b=a.getValue("label");var g=a.getValue("description"),h=i("TRIGGER",d,e),j=a.getLinkedRecord("icon_image",h.option);f.setLinkedRecord(a,"selected_option");f.setValue(b,"label");f.setValue(g,"description");j!=null?(f.setLinkedRecord(j,"icon_image",h.option),f.setLinkedRecord(j,"icon_image",h.scope)):(f.setValue(null,"icon_image",h.option),f.setValue(null,"icon_image",h.scope))}}}function a(a,c){var e=c.environment,f=c.onCompleted,g=c.onError,i=c.updaterVariables;return d("CometRelay").commitMutation(e,{mutation:h!==void 0?h:h=b("CometPrivacySelectorSavePrivacyMutation.graphql"),onCompleted:f,onError:g&&function(a){return g(a)},optimisticUpdater:function(b){j(b,a,i)},variables:a})}function c(a){var b=a.environment,c=a.mutationVariables,e=a.updaterVariables;return d("CometRelay").commitLocalUpdate(b,function(a){j(a,c,e)})}g.getIconArgs=i;g.commitPrivacySaveMutation=a;g.commitLocalPrivacyChange=c}),98);